/* skPlayer by Scott */
!function(a,b){var c={timeFormat:function(a){var b=parseInt(a/60),c=parseInt(a%60),d=b<10?"0"+b:b,e=c<10?"0"+c:c;return d+":"+e},leftDistance:function(a){for(var b=a.offsetLeft;a.offsetParent;)a=a.offsetParent,b+=a.offsetLeft;return b}};skPlayer=function(d){function e(){d.loop===!0&&(s.loop=!0),D=this.duration,z.innerHTML="00:00",A.innerHTML=c.timeFormat(parseInt(D)),1==s.volume&&(s.volume=.7,w.style.width="70%"),t.addEventListener("click",i)}function f(){D=this.duration}function g(){var a=parseInt(s.currentTime),b=a/D*100;u.style.width=b.toFixed(2)+"%",z.innerHTML=c.timeFormat(a)}function h(){if(Array.isArray(p)){var a=parseInt(q.querySelector(".skPlayer-curMusic").getAttribute("data-index"))+1;if(a<p.length){1!==q.querySelector(".skPlayer-curMusic").nextSibling?q.querySelector(".skPlayer-curMusic").nextSibling.nextSibling.classList.add("skPlayer-curMusic"):q.querySelector(".skPlayer-curMusic").nextSibling.classList.add("skPlayer-curMusic"),q.querySelector(".skPlayer-curMusic").classList.remove("skPlayer-curMusic");var b=p[a]}else{q.querySelector(".skPlayer-list li").classList.add("skPlayer-curMusic"),q.querySelectorAll(".skPlayer-curMusic")[1].classList.remove("skPlayer-curMusic");var b=p[0]}q.querySelector(".skPlayer-name").innerHTML=b.name,q.querySelector(".skPlayer-author").innerHTML=b.author,q.querySelector(".skPlayer-cover").src=b.cover,s.src=b.src,t.classList.contains("skPlayer-pause")&&s.play()}else t.classList.remove("skPlayer-pause"),B.classList.remove("skPlayer-pause"),z.innerHTML="00:00",u.style.width=0}function i(){s.paused?s.play():s.pause(),t.classList.contains("skPlayer-pause")?(t.classList.remove("skPlayer-pause"),B.classList.remove("skPlayer-pause")):(t.classList.add("skPlayer-pause"),B.classList.add("skPlayer-pause"))}function j(b){var d,e=a.event||b;d=e.pageX?(e.pageX-c.leftDistance(this))/this.offsetWidth:(e.clientX-c.leftDistance(this))/this.offsetWidth,u.style.width=100*d+"%",s.currentTime=parseInt(d*D)}function k(b){var d=a.event||b;y.classList.contains("skPlayer-quiet")&&y.classList.remove("skPlayer-quiet");var e;e=d.pageX?(d.pageX-c.leftDistance(this))/this.offsetWidth:(d.clientX-c.leftDistance(this))/this.offsetWidth,w.style.width=100*e+"%",s.volume=e.toFixed(2)}function l(){0!=s.volume?(y.setAttribute("data-volume",s.volume),s.volume=0,w.style.width=0,y.classList.add("skPlayer-quiet")):(s.volume=y.getAttribute("data-volume"),w.style.width=100*y.getAttribute("data-volume")+"%",y.setAttribute("data-volume","0"),y.classList.remove("skPlayer-quiet"))}function m(){if(!this.classList.contains("skPlayer-curMusic")){q.querySelector(".skPlayer-curMusic").classList.remove("skPlayer-curMusic"),this.classList.add("skPlayer-curMusic");var a=this.getAttribute("data-index"),b=p[a];q.querySelector(".skPlayer-name").innerHTML=b.name,q.querySelector(".skPlayer-author").innerHTML=b.author,q.querySelector(".skPlayer-cover").src=b.cover,s.src=b.src,t.classList.contains("skPlayer-pause")&&s.play()}}function n(){if(s.addEventListener("canplay",e),s.addEventListener("durationchange",f),s.addEventListener("timeupdate",g),s.addEventListener("ended",h),v.addEventListener("click",j),x.addEventListener("click",k),y.addEventListener("click",l),Array.isArray(p)){for(var a in p)C[a].addEventListener("click",m);q.querySelector(".skPlayer-list li:nth-child(1)").classList.add("skPlayer-curMusic")}}if(Array.isArray(d.music)){for(var o in d.music)if(!(d.music[o].src&&d.music[o].name&&d.music[o].author&&d.music[o].cover))return void console.error("请正确配置对象！");var p=d.music,q=b.getElementById("skPlayer"),r='<audio src="'+p[0].src+'" preload="auto"></audio>';r+='<div class="skPlayer-picture">',r+='    <img src="'+p[0].cover+'" alt="" class="skPlayer-cover">',r+='    <a href="javascript:;" class="skPlayer-play-btn">',r+='        <span class="skPlayer-left"></span>',r+='        <span class="skPlayer-right"></span>',r+="    </a>",r+="</div>",r+='<div class="skPlayer-control">',r+='    <p class="skPlayer-name">'+p[0].name+"</p>",r+='    <p class="skPlayer-author">'+p[0].author+"</p>",r+='    <div class="skPlayer-percent">',r+='        <div class="skPlayer-line"></div>',r+="    </div>",r+='    <p class="skPlayer-time">',r+='        <span class="skPlayer-cur">00:00</span>/<span class="skPlayer-total">00:00</span>',r+="    </p>",r+='    <div class="skPlayer-volume">',r+='        <i class="skPlayer-icon" data-volume="0"></i>',r+='        <div class="skPlayer-percent">',r+='            <div class="skPlayer-line"></div>',r+="        </div>",r+="    </div>",r+="</div>",r+='<ul class="skPlayer-list">';for(var o in d.music)r+='    <li data-index="'+o+'">',r+='        <i class="skPlayer-list-sign"></i>',r+='        <span class="skPlayer-list-index">'+(parseInt(o)+1)+"</span>",r+='        <span class="skPlayer-list-name">'+d.music[o].name+"</span>",r+='        <span class="skPlayer-list-author">'+d.music[o].author+"</span>",r+="    </li>";r+="</ul>"}else if("object"==typeof d.music){if(!(d.music.src&&d.music.name&&d.music.author&&d.music.cover))return void console.error("请正确配置对象！");var p=d.music,q=b.getElementById("skPlayer"),r='<audio src="'+p.src+'" preload="auto"></audio>';r+='<div class="skPlayer-picture">',r+='    <img src="'+p.cover+'" alt="" class="skPlayer-cover">',r+='    <a href="javascript:;" class="skPlayer-play-btn">',r+='        <span class="skPlayer-left"></span>',r+='        <span class="skPlayer-right"></span>',r+="    </a>",r+="</div>",r+='<div class="skPlayer-control">',r+='    <p class="skPlayer-name">'+p.name+"</p>",r+='    <p class="skPlayer-author">'+p.author+"</p>",r+='    <div class="skPlayer-percent">',r+='        <div class="skPlayer-line"></div>',r+="    </div>",r+='    <p class="skPlayer-time">',r+='        <span class="skPlayer-cur">00:00</span>/<span class="skPlayer-total">00:00</span>',r+="    </p>",r+='    <div class="skPlayer-volume">',r+='        <i class="skPlayer-icon" data-volume="0"></i>',r+='        <div class="skPlayer-percent">',r+='            <div class="skPlayer-line"></div>',r+="        </div>",r+="    </div>",r+="</div>"}q.innerHTML=r,"red"===d.theme&&(q.className="skPlayer-red");var s=q.querySelector("audio"),t=q.querySelector(".skPlayer-play-btn"),u=q.querySelector(".skPlayer-percent").querySelector(".skPlayer-line"),v=q.querySelector(".skPlayer-percent"),w=q.querySelector(".skPlayer-volume").querySelector(".skPlayer-line"),x=q.querySelector(".skPlayer-volume").querySelector(".skPlayer-percent"),y=q.querySelector(".skPlayer-icon"),z=q.querySelector(".skPlayer-cur"),A=q.querySelector(".skPlayer-total"),B=q.querySelector(".skPlayer-cover");if(Array.isArray(p))var C=q.querySelectorAll(".skPlayer-list li");var D;n()},a.skPlayer=skPlayer}(window,document),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=window.skPlayer);